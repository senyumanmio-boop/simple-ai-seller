<!DOCTYPE html>
<html>
<head>
    <title>AI Chat Akimmcuy</title>
    <style>
        body { font-family: sans-serif; background: #121212; color: white; display: flex; flex-direction: column; height: 100vh; margin: 0; }
        #chat-box { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 10px; }
        .msg { padding: 10px 15px; border-radius: 15px; max-width: 80%; line-height: 1.4; }
        .user { align-self: flex-end; background: #0084ff; }
        .ai { align-self: flex-start; background: #333; }
        #input-area { padding: 20px; background: #1e1e1e; display: flex; gap: 10px; }
        input { flex: 1; padding: 12px; border-radius: 25px; border: none; outline: none; }
        button { background: #0084ff; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; }
    </style>
</head>
<body>

<div id="chat-box">
    <div class="msg ai">Halo Bos Akimmcuy! Ada yang bisa dibantu?</div>
</div>

<div id="input-area">
    <input type="text" id="user-input" placeholder="Tulis pesan...">
    <button onclick="sendChat()">KIRIM</button>
</div>

<script>
    const API_KEY = "AIzaSyDG81x5j3r6bwmH3advkDCLVzKGaiPepeU

    async function sendChat() {
        const input = document.getElementById('user-input');
        const chatBox = document.getElementById('chat-box');
        if (!input.value) return;

        // Tampilkan pesan user
        chatBox.innerHTML += `<div class="msg user">${input.value}</div>`;
        const userMsg = input.value;
        input.value = '';

        try {
            // Panggil API Gemini (Pake v1beta biar stabil buat Flash)
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{ parts: [{ text: userMsg }] }]
                })
            });

            const data = await response.json();
            const aiResponse = data.candidates[0].content.parts[0].text;

            // Tampilkan pesan AI
            chatBox.innerHTML += `<div class="msg ai">${aiResponse}</div>`;
        } catch (error) {
            chatBox.innerHTML += `<div class="msg ai" style="color:red">Waduh, error Bos! Cek API Key atau koneksi.</div>`;
            console.error(error);
        }
        chatBox.scrollTop = chatBox.scrollHeight;
    }
</script>

</body>
</html>


